# ุจุฑูุงูู ุฏฺฉูู ุณุงุฑ ูุงุญุฏ (ุตูุญุงุช ู ฺฉุฑูโูุง)

## ูุฏู
ฺฉโุณุงุฒ ุฏฺฉูู ุณุงุฑ (Floating Button) ุจุฑุง ุชูุงู ุตูุญุงุช ู ฺฉุฑูโูุง ณุจุนุฏ ุจุง ฺฉ ฺฉุงููพูููุช React ฺฉู:
- ุฏุฑ ููู ููุงูุง ูุงุจู ุฏุฑฺฏ ุจุงุดุฏุ ูพุณ ุงุฒ ุฑูุง ุดุฏู ุจู ูุฒุฏฺฉโุชุฑู ูุจู ฺูพ/ุฑุงุณุช ุงุณููพ ุดูุฏ.
- ุฏุฑ ุตูุญุงุช ุนุงุฏุ ููู ูุงูุจุฑ/ุงฺฉุดูโูุง ุตูุญู ุฑุง ูุดุงู ุฏูุฏ.
- ุฏุฑ ูุญุท ฺฉุฑูโูุง ณุจุนุฏุ ููู ุชูุธูุงุช ููุงู ฺฉุฑู ุฑุง ูุดุงู ุฏูุฏ.
- ุจุฏูู ุงุชฺฉุง ุจู ฺฉุฏูุง ูุฏู vanilla (`window.AssistiveTouch`, `GlobeAssistiveTouch`) ฺฉุงุฑ ฺฉูุฏ.

## ูุถุนุช ูุนู ฺฉุฏ
- ุฏฺฉูู ุณุงุฑ ุตูุญุงุช:
  - React: `src/components/AssistiveTouch/AssistiveTouch.jsx`
  - CSS: `src/components/AssistiveTouch/AssistiveTouch.css`
  - ูุชฺฉ ุจู ฺฉูุงุณ vanilla: `window.AssistiveTouch` ุฏุฑ `script-ui.js` (ุจุฎุด โ๐ฎ ุฏฺฉูู ุดูุงูุฑ ุญุฑููโุงโ).
  - ุฐุฎุฑู ูููุนุช ุฏุฑ localStorage ุจุง ฺฉูุฏ `assistiveTouchPos`.
  - ุจุงุฒ ฺฉุฑุฏู ููู ุดุดูโุง (`glassMenu` ุฏุฑ DOM) ุจุฑุง ูุงูุจุฑ.
- ุฏฺฉูู ุณุงุฑ ฺฉุฑูโูุง:
  - ฺฉูุงุณ vanilla: `GlobeAssistiveTouch` ุฏุฑ `script-globes.js` (ุญุฏูุฏ ูุงูโูุง 1500+).
  - ุจุฑุง ูุฑ ฺฉุฑู ฺฉ instance ุฌุฏุง (`financial`, `resources`, โฆ) ุจุง ููู ุฎุงุต.
  - ุฏุฑูู ูุญุชูุง ููุฏุงู ฺฉุฑูโูุงุ ุฏุฑฺฏ ู ุงุณููพ ุงูุฌุงู ูโุฏูุฏ.
- ุงุณฺฉุฑูพุชโูุง ฺฉูฺฉ ุฏุฑฺฏ ูพููโูุง: `globe-panels-draggable.js` (ุจุฑุง ูพููโูุง ุฏุงุฎู ููุฏุงู ฺฉุฑูโูุง).
- ูุงุจุณุชฺฏโูุง ุจู ฺฉุฏูุง ูุฏู:
  - `window.navigate`, `window.appState`, eventูุง ุณูุงุฑุดุ ู DOM queryโูุง.
  - ููู ุดุดูโุง ุจุฑุง ุตูุญุงุช ุฏุฑ DOMุ ููููุง ุฌุฏุงฺฏุงูู ุจุฑุง ฺฉุฑูโูุง.

## ูุดฺฉูุงุช ูุนู
- ุฏู ูพุงุฏูโุณุงุฒ ููุงุฒ (React + vanilla) โ ุชุฏุงุฎู ู ุฏูุจุงุฑโุจูุฏ event/DOM.
- ุฏฺฉูู ุตูุญุงุช โูู ุชฺฉุงู ูโุฎูุฑุฏุ ูู ุจุงุฒ ูโุดูุฏโ: ุงุญุชูุงูุงู ุจูโุฎุงุทุฑ ูุงุจุณุชฺฏ ุจู `window.AssistiveTouch` ู ุนุฏู ููุงููฺฏ init ุจุง React.
- ุฏฺฉูู ฺฉุฑูโูุง ูุฒ ุฌุฏุงฺฏุงูู ู ุจุง DOM/vanilla ุงุณุช ู ุฏุฑ React ูุฏุงูโูุง ูพุงุฏุงุฑ ูุฏุงุฑุฏ.
- ฺูุฏู ููุจุน ุงุณุชุงู ู ุฑูุชุงุฑ (CSS + JS) ุจุงุนุซ ุณุฎุช ูฺฏูุฏุงุดุช ู ุฎุทุง.

## ุทุฑุญ ูพุดููุงุฏ (ุจุงุฒููุณ ฺฉโุจุงุฑู ุจุง React)
1) ุญุฐู ูุงุจุณุชฺฏ ุจู ฺฉูุงุณโูุง vanilla:
   - ฺฉูุงุฑ ฺฏุฐุงุดุชู `window.AssistiveTouch` ู `window.GlobeAssistiveTouch` ู ฺฉุฏ ูุฑุจูุท ุฏุฑ `AssistiveTouch.jsx`.
   - ููู ุดุดูโุง DOM ุฎุงุฑุฌ ุงุฒ React ุญุฐู ุดูุฏ.
2) ุณุงุฎุช ฺฉ ฺฉุงููพูููุช React ูุงุญุฏ (ูุซูุงู `FloatingDock`) ุจุง ูฺฺฏโูุง:
   - ุฏุฑฺฏ ุฏุฑ ฺฉู ุตูุญู (ุง container ูุฏุงู)ุ snap ุจู ฺูพ/ุฑุงุณุช ุจุง ูุงุตูู 15px.
   - ุฐุฎุฑู ูููุนุช ุฏุฑ localStorage ุจุง ฺฉูุฏ ุฌุฏุฏ (ูุซูุงู `floatingDockPos` + scope `page`/`globe`).
   - ุชูุฒฺฉููุฏู ุจุฑุง touch/mouseุ ุจุฏูู reliance ุจุฑ window listeners ุฎุงุฑุฌ.
   - ุขฺฉู/ุงุณุชุงู ูุงุจู ุชููฺฏุ ุฏุฑ ุตูุญุงุช ุขฺฉู ูุนู (โฐ)ุ ุฏุฑ ฺฉุฑูโูุง ุขฺฉู ฺุฑุฎโุฏูุฏู.
3) ุฑูุชุงุฑ ุจุฑ ุงุณุงุณ context:
   - ุญุงูุช ุตูุญู: ุจุงุฒ ฺฉุฑุฏู ฺฉ Sheet/Modal ฺฉูฺฺฉ React ุดุงูู ุฏฺฉููโูุง ูุงูุจุฑ ุจู ูุณุฑูุง (ููุงู ูุณุช ุตูุญูโูุง).
   - ุญุงูุช ฺฉุฑู: ุจุงุฒ ฺฉุฑุฏู Sheet ุชูุธูุงุช ูุฑุชุจุท ุจุง ููุงู ฺฉุฑู (props: `type` + callbackูุง: `onToggleRotate`, `onResetView`, ...).
4) ููุงุท ุงุชุตุงู:
   - ูุงูุจุฑ: ุงุณุชูุงุฏู ุงุฒ `useNavigate` ู map ูุณุฑูุง.
   - ฺฉุฑูโูุง: props callback ุงุฒ ููุฏุงูโูุง React ฺฉุฑู (ูุซูุงู `openPanel`, `toggleRotation`, `resetView`).
   - ุงุณููพ: ููุท ุงูู (ฺูพ/ุฑุงุณุช)ุ ุงุฑุชูุงุน ุญูุธ ุดูุฏุ ุฏุฑ ููุจุงูุ ุฒุฑ ููุงุฑ ูพุงู ููุชุฏ.
5) CSS:
   - ฺฉ ูุงู CSS/SCSS ฺฉูฺฺฉ ุจุฑุง ุฏฺฉูู ู ููู ฺฉูฺฺฉ (glass-like)ุ ุญุฐู ูุงุฒ ุจู DOM overlay ูุฏู.

## ฺฏุงูโูุง ุญุฐู ฺฉุฏ ูุฏู
- ุญุฐู/ุบุฑูุนุงู ฺฉุฑุฏู ุงุณุชูุงุฏู ุงุฒ `window.AssistiveTouch` ุฏุฑ `AssistiveTouch.jsx`.
- ุญุฐู ุจููฺฉ ฺฉูุงุณ `AssistiveTouch` ู `GlobeAssistiveTouch` ุฏุฑ `script-ui.js` ู `script-globes.js` ูพุณ ุงุฒ ุงุทููุงู ุงุฒ ุนุฏู ูุงุฒ.
- ุญุฐู/ุนุฏู ุงุณุชูุงุฏู ุงุฒ `glassMenu` DOM ู ุฌุงฺฏุฒู ุจุง ููู React ุฏุงุฎู ููุงู ฺฉุงููพูููุช.
- ูพุงฺฉโุณุงุฒ listeners/MutationObserver ูุง ูุฑุชุจุท (ุฏุฑ `script-globes.js`) ุจุฑุง ุฏฺฉูู ุณุงุฑ.

## ุทุฑุงุญ ฺฉุงููพูููุช ุฌุฏุฏ (ูพุดููุงุฏ)
- ูุงูโูุง:
  - `src/components/FloatingDock/FloatingDock.jsx`
  - `src/components/FloatingDock/FloatingDock.css`
- Props ูพุดููุงุฏ:
  - `mode`: `'page' | 'globe'`
  - `menuItems`: ุขุฑุงู { id, label, icon, onClick }
  - `storageKey`: ฺฉูุฏ ุฐุฎุฑู ูููุนุช (ูพุดโูุฑุถ: `floatingDockPos-page` ุง `floatingDockPos-<globe>`).
  - `containerRef` (ุงุฎุชุงุฑ ุจุฑุง ฺฉุฑูโูุง): ูุญุฏูุฏ ฺฉุฑุฏู ุฏุฑฺฏ ุจู ุฏุงุฎู ูุฏุงู ฺฉุฑู.
- ุฑูุชุงุฑ:
  - drag & drop ุจุง mouse/touchุ snap ุงูู ุจู ฺูพ/ุฑุงุณุชุ ูุญุฏูุฏุช ุงุฑุชูุงุน ุฏุงุฎู container/viewport.
  - onTap โ ุจุงุฒ/ุจุณุชูโฺฉุฑุฏู ููู ฺฉูฺฺฉ (ุจุฏูู overlay ุชูุงูโุตูุญู).
  - ุฐุฎุฑู ูููุนุช ุฏุฑ localStorageุ ุจุงุฒฺฏุฑุฏุงู ุฏุฑ mountุ ฺฉุงูุจุฑู ฺฉุฑุฏู ุจุฑุง ููุงุฑ ูพุงู ููุจุงู.
- ุฏุฑ ุญุงูุช page:
  - `menuItems` ุดุงูู ูุงูุจุฑ ุจู `/`, `/news`, `/globe`, `/tutorial`, `/relax`, `/tools`.
  - ุขฺฉู ุฏฺฉูู: โฐ (ุง ูุนุงุฏู ุณุจฺฉ ูุนู).
- ุฏุฑ ุญุงูุช globe:
  - ุขฺฉู ุฏฺฉูู: โ๏ธ
  - `menuItems` ุงุฒ props ฺฉุฑู (reset, toggle rotation, filters, close modal, โฆ).

## ูุงุจุณุชฺฏโูุง ู ุฑุณฺฉโูุง
- ูุงุจุณุชฺฏ ุจู React Router ุจุฑุง ูุงูุจุฑ.
- ูพุงฺฉโุณุงุฒ ฺฉุงูู ฺฉุฏูุง vanilla ุชุง ุฏูุจุงุฑู ุฑู DOM ูุฏู event ูููุณุฏ.
- ฺฉูุชุฑู z-index: ุจุงุฏ ุจุงูุงุชุฑ ุงุฒ ฺฉุงุฑุชโูุง/ููุฏุงูโูุง ุจุงุดุฏุ ูู ูุฒุงุญู bottom nav ูุดูุฏ.
- ุงุทููุงู ุงุฒ ุนุฏู ููุดุชู ููุฒูุงู ุฑู localStorage ฺฉูุฏ ูุจู (`assistiveTouchPos` vs ฺฉูุฏ ุฌุฏุฏ).

## ุชุณุช ู ูพุฐุฑุด
- ุตูุญุงุช: ุฏุฑฺฏ ุฏฺฉููุ ุงุณููพ ุจู ฺูพ/ุฑุงุณุชุ ุจุงุฒ/ุจุณุชู ุดุฏู ูููุ ูุงูุจุฑ ุจู ูุณุฑูุง ุจุฏูู ุฑุฏุงุฑฺฉุช ูุงุฎูุงุณุชู.
- ููุจุงู: ุฏฺฉูู ุจุงูุง bottom-nav ุจูุงูุฏ ู ุฎุงุฑุฌ ุงุฒ viewport ูุฑูุฏ.
- ฺฉุฑูโูุง: ุฏุฑูู ูุฏุงู ณุจุนุฏ ุฏุฑฺฏ ู ุงุณููพ ุฏุงุฎู containerุ ููู ุชูุธูุงุช ฺฉุฑู ุงุฌุฑุง ุดูุฏ (reset/rotation/filter).
- ุฑฺฏุฑุณูู: ุนุฏู ูุฌูุฏ event listener/MutationObserver ุจูุงุงุณุชูุงุฏูุ ฺฉูุณูู ุจุฏูู ุฎุทุง JS.

