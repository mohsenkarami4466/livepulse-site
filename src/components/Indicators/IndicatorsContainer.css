/* کارت شیشه‌ای برای شاخص‌ها */
.indicators-glass-card {
  position: fixed !important;
  top: calc(var(--header-height, 60px) + 8px) !important; /* همردیف با کره کوچک */
  left: calc(clamp(100px, 14vw, 180px) + 24px) !important; /* فاصله از کره کوچک */
  right: 8px !important; /* فاصله از راست (برابر با فاصله کره از چپ) */
  height: auto !important; /* ارتفاع بر اساس محتوا */
  min-height: clamp(60px, 6vw, 80px) !important; /* ارتفاع بیشتر - 10px بیشتر از قبل (50px -> 60px) */
  max-height: none !important; /* بدون محدودیت ارتفاع */
  z-index: 998 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  visibility: visible !important;
  opacity: 1 !important;
  
  /* Glassmorphism Effect - یکدست مثل کارت‌های صفحه خانه */
  background: rgba(18, 18, 18, 0.6) !important; /* دودی تیره - مثل کارت‌های صفحه خانه (تم تاریک) - برای کنتراست */
  backdrop-filter: blur(20px) saturate(150%) !important; /* مثل کارت‌های صفحه خانه */
  -webkit-backdrop-filter: blur(20px) saturate(150%) !important;
  border-radius: 20px !important; /* گوشه‌های گرد */
  border: none !important; /* بدون قاب */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important; /* shadow ساده مثل کارت‌ها */
  background-image: none !important; /* حذف هرگونه gradient */
  
  /* اجازه تنظیم داینامیک از JS */
  transition: top 0.2s ease, left 0.2s ease, right 0.2s ease, height 0.2s ease !important;
}

/* Container داخلی برای جفت ارزها - Override کامل استایل‌های قدیمی */
.indicators-glass-card .indicators-unified-container {
  position: relative !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  width: 100% !important;
  height: auto !important; /* ارتفاع بر اساس محتوا */
  min-height: 100% !important;
  max-width: none !important;
  max-height: none !important;
  margin: 0 !important;
  display: grid !important; /* استفاده از grid برای چیدمان بهتر */
  grid-template-columns: repeat(6, 1fr) !important; /* 6 ستون در دسکتاپ - یک ردیف */
  grid-template-rows: 1fr !important; /* فقط یک ردیف در دسکتاپ */
  gap: clamp(4px, 0.6vw, 8px) !important; /* gap بیشتر برای دسکتاپ */
  padding: clamp(6px, 0.8vw, 10px) !important; /* padding کمتر */
  overflow: hidden !important;
  align-items: center !important;
  justify-content: center !important;
  background: transparent !important;
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
  border: none !important;
  border-bottom: none !important;
  box-shadow: none !important;
  z-index: auto !important;
  box-sizing: border-box !important;
}

/* غیرفعال کردن استایل‌های قدیمی کارت در React mode */
body:has(.indicators-glass-card) .indicators-unified-container:not(.indicators-glass-card *) {
  display: none !important; /* مخفی کردن کارت قدیمی */
}

/* حذف indicators-row - شاخص‌ها مستقیماً در grid قرار دارند */

/* استایل جفت ارزها - مستقیماً روی کارت شیشه‌ای */
.indicators-glass-card .pair-item {
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
  gap: clamp(1px, 0.2vw, 3px) !important; /* gap کمتر */
  padding: 0 !important; /* حذف padding */
  min-width: 0 !important;
  max-width: 100% !important;
  overflow: visible !important; /* visible برای نمایش کامل */
  white-space: normal !important;
  text-overflow: clip !important;
  box-sizing: border-box !important;
  border-radius: 0 !important; /* حذف border-radius */
  background: transparent !important; /* حذف background */
  border: none !important; /* حذف border */
  transition: opacity 0.2s ease, transform 0.2s ease !important;
}

.indicators-glass-card .pair-item:hover {
  background: transparent !important; /* بدون background در hover */
  transform: scale(1.05) !important;
  opacity: 0.9 !important;
}

/* نام جفت ارز - فونت فارسی */
.indicators-glass-card .pair-item .pair-name {
  font-family: 'Vazirmatn', 'Inter', sans-serif !important;
  font-size: clamp(0.5rem, 0.9vw, 0.6rem) !important; /* کوچکتر */
  font-weight: 600 !important;
  line-height: 1.1 !important; /* line-height کمتر */
  color: rgba(255, 255, 255, 0.9) !important;
  flex-shrink: 0 !important;
  min-width: auto !important;
  overflow: visible !important;
  text-overflow: clip !important;
  white-space: normal !important;
  margin-bottom: clamp(0px, 0.1vw, 1px) !important; /* margin کمتر */
}

/* مقدار جفت ارز - فونت لاتین برای اعداد */
.indicators-glass-card .pair-item .pair-value {
  font-family: 'Inter', 'SF Pro Display', -apple-system, sans-serif !important;
  font-variant-numeric: tabular-nums !important;
  font-size: clamp(0.5rem, 0.95vw, 0.65rem) !important; /* کوچکتر */
  font-weight: 700 !important;
  line-height: 1.1 !important; /* line-height کمتر */
  color: rgba(255, 255, 255, 1) !important;
  flex-shrink: 0 !important;
  min-width: auto !important;
  overflow: visible !important;
  text-overflow: clip !important;
  white-space: normal !important;
  letter-spacing: 0.02em !important;
}

/* تغییرات جفت ارز - مستقیماً روی کارت */
.indicators-glass-card .pair-item .pair-change {
  font-family: 'Inter', 'SF Pro Display', -apple-system, sans-serif !important;
  font-variant-numeric: tabular-nums !important;
  font-size: clamp(0.4rem, 0.8vw, 0.55rem) !important; /* کوچکتر */
  font-weight: 600 !important;
  line-height: 1 !important;
  flex-shrink: 0 !important;
  white-space: normal !important;
  padding: 0 !important; /* حذف padding */
  border-radius: 0 !important; /* حذف border-radius */
  background: transparent !important; /* حذف background */
  border: none !important; /* حذف border */
}

/* رنگ‌بندی تغییرات - فقط رنگ متن */
.indicators-glass-card .pair-item.up .pair-change {
  color: #00ff88 !important;
  background: transparent !important; /* بدون background */
}

.indicators-glass-card .pair-item.down .pair-change {
  color: #ff4466 !important;
  background: transparent !important; /* بدون background */
}

/* Responsive - Desktop Large (1400px+) */
@media (min-width: 1400px) {
  .indicators-glass-card {
    left: calc(180px + 24px) !important;
    right: 8px !important;
    height: auto !important;
    min-height: 60px !important; /* ارتفاع بیشتر - 10px بیشتر از قبل (50px -> 60px) */
    max-height: none !important;
  }
  
  .indicators-glass-card .indicators-unified-container {
    grid-template-columns: repeat(6, 1fr) !important; /* یک ردیف 6 تایی */
    grid-template-rows: 1fr !important; /* فقط یک ردیف */
    gap: 8px !important;
    padding: 8px !important; /* padding کمتر */
  }
}

/* Responsive - Desktop (1024px - 1399px) */
@media (max-width: 1399px) and (min-width: 1024px) {
  .indicators-glass-card {
    left: calc(clamp(120px, 12vw, 160px) + 20px) !important;
    right: 8px !important;
    height: auto !important;
    min-height: 60px !important; /* ارتفاع بیشتر - 10px بیشتر از قبل (50px -> 60px) */
    max-height: none !important;
  }
  
  .indicators-glass-card .indicators-unified-container {
    grid-template-columns: repeat(6, 1fr) !important; /* یک ردیف 6 تایی */
    grid-template-rows: 1fr !important; /* فقط یک ردیف */
    gap: clamp(4px, 0.6vw, 6px) !important;
    padding: clamp(6px, 0.8vw, 8px) !important; /* padding کمتر */
  }
}

/* Responsive - Tablet (768px - 1023px) */
@media (max-width: 1023px) and (min-width: 768px) {
  .indicators-glass-card {
    /* موقعیت از JS تنظیم می‌شود - 10px از سمت راست کره */
    height: auto !important;
    min-height: clamp(50px, 6vw, 80px) !important;
    max-height: none !important;
    border-radius: 16px !important;
  }
  
  .indicators-glass-card .indicators-unified-container {
    /* اولویت: یک ردیف 6 تایی - اگر جا نبود از JS به 2 ردیف 3 تایی تبدیل می‌شه */
    grid-template-columns: repeat(6, 1fr) !important; /* پیش‌فرض: یک ردیف 6 تایی */
    grid-template-rows: 1fr !important; /* پیش‌فرض: یک ردیف */
    gap: clamp(4px, 0.7vw, 6px) !important; /* gap مناسب */
    padding: clamp(6px, 1vw, 10px) !important; /* padding مناسب */
  }
  
  .indicators-glass-card .pair-item {
    gap: clamp(2px, 0.4vw, 4px) !important;
    padding: clamp(3px, 0.6vw, 6px) clamp(2px, 0.4vw, 4px) !important;
  }
  
  /* بهبود خوانایی در تبلت */
  .indicators-glass-card .pair-item .pair-name {
    font-size: clamp(0.6rem, 1.1vw, 0.75rem) !important; /* بزرگتر برای خوانایی */
    letter-spacing: 0.02em !important;
    padding: 0 clamp(2px, 0.4vw, 4px) !important; /* padding افقی */
  }
  
  .indicators-glass-card .pair-item .pair-value {
    font-size: clamp(0.65rem, 1.2vw, 0.8rem) !important; /* بزرگتر */
    letter-spacing: 0.01em !important;
    padding: 0 clamp(2px, 0.4vw, 4px) !important;
  }
  
  .indicators-glass-card .pair-item .pair-change {
    font-size: clamp(0.55rem, 1vw, 0.7rem) !important; /* بزرگتر */
    letter-spacing: 0.01em !important;
    padding: 0 clamp(2px, 0.4vw, 4px) !important;
  }
}

/* Responsive - Mobile Large (480px - 767px) */
@media (max-width: 767px) and (min-width: 480px) {
  .indicators-glass-card {
    /* موقعیت از JS تنظیم می‌شود - 5px از سمت راست کره */
    height: auto !important;
    min-height: clamp(60px, 8vw, 90px) !important; /* ارتفاع بیشتر */
    max-height: none !important;
    border-radius: 12px !important;
  }
  
  .indicators-glass-card .indicators-unified-container {
    grid-template-columns: repeat(3, 1fr) !important; /* 3 ستون = 2 ردیف */
    grid-template-rows: repeat(2, 1fr) !important; /* 2 ردیف */
    gap: clamp(4px, 0.8vw, 6px) !important; /* gap مناسب */
    padding: clamp(6px, 1vw, 10px) !important; /* padding مناسب */
  }
  
  .indicators-glass-card .pair-item {
    gap: clamp(2px, 0.4vw, 4px) !important;
    padding: clamp(2px, 0.4vw, 4px) !important;
  }
  
  .indicators-glass-card .pair-item .pair-name {
    font-size: clamp(0.55rem, 1.1vw, 0.7rem) !important; /* کمی بزرگتر */
    letter-spacing: 0.02em !important; /* فاصله بین حروف بیشتر */
    padding: 0 clamp(2px, 0.4vw, 4px) !important; /* padding افقی برای عرض بیشتر */
  }
  
  .indicators-glass-card .pair-item .pair-value {
    font-size: clamp(0.6rem, 1.2vw, 0.75rem) !important; /* کمی بزرگتر */
    letter-spacing: 0.01em !important; /* فاصله بین حروف */
    padding: 0 clamp(2px, 0.4vw, 4px) !important; /* padding افقی */
  }
  
  .indicators-glass-card .pair-item .pair-change {
    font-size: clamp(0.5rem, 1vw, 0.65rem) !important; /* کمی بزرگتر */
    letter-spacing: 0.01em !important; /* فاصله بین حروف */
    padding: 0 clamp(2px, 0.4vw, 4px) !important; /* padding افقی */
  }
}

/* Responsive - Mobile Small (320px - 479px) */
@media (max-width: 479px) {
  .indicators-glass-card {
    /* موقعیت از JS تنظیم می‌شود - 5px از سمت راست کره */
    height: auto !important;
    min-height: clamp(55px, 7vw, 85px) !important; /* ارتفاع بیشتر */
    max-height: none !important;
    border-radius: 10px !important;
  }
  
  .indicators-glass-card .indicators-unified-container {
    grid-template-columns: repeat(3, 1fr) !important; /* 3 ستون = 2 ردیف */
    grid-template-rows: repeat(2, 1fr) !important; /* 2 ردیف */
    gap: clamp(3px, 0.6vw, 5px) !important; /* gap مناسب */
    padding: clamp(5px, 0.8vw, 8px) !important; /* padding مناسب */
  }
  
  .indicators-glass-card .pair-item {
    gap: clamp(1px, 0.3vw, 3px) !important;
    padding: clamp(1px, 0.3vw, 3px) !important;
  }
  
  .indicators-glass-card .pair-item .pair-name {
    font-size: clamp(0.5rem, 1vw, 0.65rem) !important; /* کمی بزرگتر */
    letter-spacing: 0.02em !important; /* فاصله بین حروف بیشتر */
    padding: 0 clamp(2px, 0.4vw, 4px) !important; /* padding افقی برای عرض بیشتر */
  }
  
  .indicators-glass-card .pair-item .pair-value {
    font-size: clamp(0.55rem, 1.1vw, 0.7rem) !important; /* کمی بزرگتر */
    letter-spacing: 0.01em !important; /* فاصله بین حروف */
    padding: 0 clamp(2px, 0.4vw, 4px) !important; /* padding افقی */
  }
  
  .indicators-glass-card .pair-item .pair-change {
    font-size: clamp(0.45rem, 0.9vw, 0.6rem) !important; /* کمی بزرگتر */
    letter-spacing: 0.01em !important; /* فاصله بین حروف */
    padding: 0 clamp(2px, 0.4vw, 4px) !important; /* padding افقی */
  }
}

/* Light theme support - یکدست مثل کارت‌های صفحه خانه */
[data-theme="light"] .indicators-glass-card {
  background: rgba(255, 255, 255, 0.6) !important; /* یکدست - مثل کارت‌های صفحه خانه */
  backdrop-filter: blur(20px) saturate(150%) !important; /* مثل کارت‌های صفحه خانه */
  -webkit-backdrop-filter: blur(20px) saturate(150%) !important;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06) !important; /* shadow ساده مثل کارت‌ها */
  background-image: none !important; /* حذف هرگونه gradient */
}

[data-theme="light"] .indicators-glass-card .pair-item {
  background: transparent !important; /* بدون background در light theme */
}

[data-theme="light"] .indicators-glass-card .pair-item:hover {
  background: transparent !important; /* بدون background در hover */
  opacity: 0.8 !important;
}

[data-theme="light"] .indicators-glass-card .pair-item .pair-name {
  color: rgba(15, 23, 42, 0.9) !important;
}

[data-theme="light"] .indicators-glass-card .pair-item .pair-value {
  color: rgba(15, 23, 42, 1) !important;
}
